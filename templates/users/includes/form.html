{% with request.resolver_match.view_name as view_name %}
  <div class="container my-auto">
    <div class="row d-flex justify-content-center">
      <div class="col-lg-5">
        <h1 class="text-center mb-3">{{ text }}</h1>
        <form method="post" enctype="multipart/form-data" class="d-flex flex-column justify-content-center">
          {% csrf_token %}
          {% with form=form %}
            {% include "users/includes/auth_form.html" %}
          {% endwith %}
          {% if view_name == 'users:signup' %}
            <div class="d-flex justify-content-between px-3">
              <a href="{% url 'users:login' %}" class="text-decoration-none">Already have an account?</a>
              <a href="{% url 'users:password_reset' %}" class="text-decoration-none">Forgot your password?</a>
            </div>
            <button type="submit" class="btn btn-primary w-75 mx-auto mt-3">
              Sign up
            </button>
          {% elif view_name == 'users:login' %}
            <div class="d-flex justify-content-between px-3">
              <a href="{% url 'users:signup' %}" class="text-decoration-none">Don't have an account?</a>
              <a href="{% url 'users:password_reset' %}" class="text-decoration-none">Forgot your password?</a>
            </div>
            <button type="submit" class="btn btn-primary w-75 mx-auto mt-3">
              Login
            </button>
          {% else %}
            <button type="submit" class="btn btn-primary w-75 mx-auto mt-3">
              Continue
            </button>
          {% endif %}
        </form>
      </div>
    </div>
  </div>
{% endwith %}
